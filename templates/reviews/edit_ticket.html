{% extends 'base.html' %}

{% block title %}Modifier le billet - LITRevu{% endblock %}

{% block content %}
<h1 class="page-title">Modifier le billet</h1>

<div class="card">
    <form method="post" enctype="multipart/form-data" novalidate aria-label="Formulaire de modification de billet">
        {% csrf_token %}

        <div class="form-group">
            <label for="id_title" class="form-label">Titre *</label>
            {{ form.title }}
            {% if form.title.errors %}
            <div class="form-errors" role="alert">
                {{ form.title.errors }}
            </div>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="id_description" class="form-label">Description</label>
            {{ form.description }}
            {% if form.description.errors %}
            <div class="form-errors" role="alert">
                {{ form.description.errors }}
            </div>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="id_image" class="form-label">Image</label>
            {% if ticket.image %}
            <p style="margin-bottom: 0.5rem;">
                Image actuelle : 
                <img src="{{ ticket.image.url }}" alt="Image actuelle" style="max-width: 100px; vertical-align: middle;">
            </p>
            {% endif %}
            {{ form.image }}
            {% if form.image.errors %}
            <div class="form-errors" role="alert">
                {{ form.image.errors }}
            </div>
            {% endif %}
        </div>

        <div class="btn-group">
            <button type="submit" class="btn btn-primary">Enregistrer</button>
            <a href="{% url 'user_posts' %}" class="btn btn-secondary">Annuler</a>
        </div>
    </form>
</div>
{% endblock %}
